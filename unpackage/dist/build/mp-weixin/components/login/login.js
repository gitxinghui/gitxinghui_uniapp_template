(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/login/login"],{1574:function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=t("d373"),r=t("1898"),a=t("2f62"),i=u(t("8d92"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){f(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var l={name:"login",props:{},watch:{"$store.getters.login_show":function(e){this.login_show=e}},data:function(){return{login_show:!1}},methods:s(s(s({},(0,a.mapMutations)(["base","modal","user"])),(0,a.mapActions)(["demoactions"])),{},{moveStop:function(e){},closeLogin:function(n){this.modal({name:"login_show",value:!1}),e.reLaunch({url:"/pages/home/index"})},getUserInfo:function(n,t){var o=this;t?(i.default.set("userInfo",n),o.getLoginInfo(n)):e.login({success:function(n){e.showLoading({title:"正在登录中"}),e.getUserInfo({lang:"zh_CN",success:function(e){e.code=n.code,i.default.set("userInfo",e),o.user({name:"userInfo",value:e}),o.getLoginInfo(e)},fail:function(n){console.log("用户按了拒绝按钮"),e.hideLoading()}})},fail:function(n){e.hideLoading(),e.showToast({title:n.errMsg,icon:"none"})}})},getLoginInfo:function(n){var t=this,a={user_info:JSON.stringify(n.userInfo),promo_code:i.default.get("promo_code"),wxapp_id:r.appData.wxapp_id,code:n.code};(0,o.login_api)(a).then((function(n){e.hideLoading(),i.default.set("token",n.data.token),i.default.set("userId",n.data.user_id),t.user({name:"token",value:n.data.token}),t.user({name:"userId",value:n.data.user_id}),t.modal({name:"login_show",value:!1}),t.base({name:"refreshPage",value:!0})})).catch((function(n){e.hideLoading(),t.modal({name:"popTipModal",value:{type:!0,tipTitle:"登录失败",tipContent:n.msg}})}))}})};n.default=l}).call(this,t("543d")["default"])},3350:function(e,n,t){"use strict";var o;t.d(n,"b",(function(){return r})),t.d(n,"c",(function(){return a})),t.d(n,"a",(function(){return o}));var r=function(){var e=this,n=e.$createElement;e._self._c},a=[]},5925:function(e,n,t){"use strict";t.r(n);var o=t("3350"),r=t("cb36");for(var a in r)"default"!==a&&function(e){t.d(n,e,(function(){return r[e]}))}(a);t("940f");var i,u=t("f0c5"),c=Object(u["a"])(r["default"],o["b"],o["c"],!1,null,"4f11efbe",null,!1,o["a"],i);n["default"]=c.exports},"7ce5":function(e,n,t){},"940f":function(e,n,t){"use strict";var o=t("7ce5"),r=t.n(o);r.a},cb36:function(e,n,t){"use strict";t.r(n);var o=t("1574"),r=t.n(o);for(var a in o)"default"!==a&&function(e){t.d(n,e,(function(){return o[e]}))}(a);n["default"]=r.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/login/login-create-component',
    {
        'components/login/login-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("5925"))
        })
    },
    [['components/login/login-create-component']]
]);
